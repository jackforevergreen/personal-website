{"ast":null,"code":"import React,{useState}from\"react\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Email=()=>{const[name,setName]=useState(\"\");const[email,setEmail]=useState(\"\");const[status,setStatus]=useState({loading:false,success:false,error:null});// Replace this with your actual deployed Google Apps Script URL for writing\nconst SHEETS_URL=\"https://script.google.com/macros/s/AKfycbxYcMDvLCFxiGNX7WYMqgCM5OAIXrD4lhX_PuylMeCCRf5cZSnEu2oZKsyQsFoYQwnz-w/exec\";const validateEmail=email=>{const emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;return emailRegex.test(email);};const handleSubmit=async e=>{e.preventDefault();if(!name||!email)return;if(!validateEmail(email)){setStatus({loading:false,success:false,error:\"Please enter a valid email address\"});return;}setStatus({loading:true,success:false,error:null});try{const now=new Date();const currentDate=now.toLocaleDateString();const params=new URLSearchParams({name:name,email:email,date:currentDate});const img=new Image();await new Promise(resolve=>{img.onload=img.onerror=resolve;img.src=`${SHEETS_URL}?${params.toString()}`;});setStatus({loading:false,success:true,error:null});// Clear form after successful submission\nsetName(\"\");setEmail(\"\");}catch(error){console.error(\"Error saving email:\",error);setStatus({loading:false,success:false,error:\"Failed to subscribe. Please try again.\"});}};const styles={container:{maxWidth:\"600px\",margin:\"40px auto\",padding:\"20px\",backgroundColor:\"white\",borderRadius:\"8px\",boxShadow:\"0 2px 4px rgba(0,0,0,0.1)\"},header:{fontSize:\"24px\",fontWeight:\"bold\",marginBottom:\"20px\",textAlign:\"center\"},description:{fontSize:\"16px\",textAlign:\"center\",margin:\"20px 0\",color:\"#666\"},form:{marginBottom:\"20px\"},input:{width:\"100%\",padding:\"10px\",marginBottom:\"10px\",border:\"1px solid #ddd\",borderRadius:\"4px\",fontSize:\"16px\"},button:{width:\"100%\",padding:\"12px\",backgroundColor:\"#4CAF50\",color:\"white\",border:\"none\",borderRadius:\"4px\",fontSize:\"16px\",cursor:\"pointer\"},disabledButton:{backgroundColor:\"#cccccc\",cursor:\"not-allowed\"},message:{padding:\"10px\",marginBottom:\"10px\",borderRadius:\"4px\",textAlign:\"center\"},success:{backgroundColor:\"#d4edda\",color:\"#155724\"},error:{backgroundColor:\"#f8d7da\",color:\"#721c24\"}};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.header,children:\"Send me emails about this\"}),/*#__PURE__*/_jsx(\"div\",{style:styles.description,children:\"Subscribe to my email list to receive updates about this.\"}),!status.success?/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:styles.form,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:e=>setName(e.target.value),style:styles.input,placeholder:\"Enter your name\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:email,onChange:e=>setEmail(e.target.value),style:styles.input,placeholder:\"Enter your email\",required:true}),status.error&&/*#__PURE__*/_jsx(\"div\",{style:{...styles.message,...styles.error},children:status.error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:status.loading||!name||!email,style:{...styles.button,...(status.loading||!name||!email?styles.disabledButton:{})},children:status.loading?\"Subscribing...\":\"Subscribe\"})]}):/*#__PURE__*/_jsx(\"div\",{style:{...styles.message,...styles.success},children:\"Thanks! I'll be in contact soon.\"})]});};export default Email;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","Email","name","setName","email","setEmail","status","setStatus","loading","success","error","SHEETS_URL","validateEmail","emailRegex","test","handleSubmit","e","preventDefault","now","Date","currentDate","toLocaleDateString","params","URLSearchParams","date","img","Image","Promise","resolve","onload","onerror","src","toString","console","styles","container","maxWidth","margin","padding","backgroundColor","borderRadius","boxShadow","header","fontSize","fontWeight","marginBottom","textAlign","description","color","form","input","width","border","button","cursor","disabledButton","message","style","children","onSubmit","type","value","onChange","target","placeholder","required","disabled"],"sources":["/Users/jackpearson/Documents/Code/personal-website/Untitled/personal-website/src/pages/components/signup.tsx"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst Email = () => {\n  const [name, setName] = useState<string>(\"\");\n  const [email, setEmail] = useState<string>(\"\");\n  const [status, setStatus] = useState({\n    loading: false,\n    success: false,\n    error: null as string | null,\n  });\n\n  // Replace this with your actual deployed Google Apps Script URL for writing\n  const SHEETS_URL =\n    \"https://script.google.com/macros/s/AKfycbxYcMDvLCFxiGNX7WYMqgCM5OAIXrD4lhX_PuylMeCCRf5cZSnEu2oZKsyQsFoYQwnz-w/exec\";\n\n  const validateEmail = (email: string): boolean => {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!name || !email) return;\n\n    if (!validateEmail(email)) {\n      setStatus({\n        loading: false,\n        success: false,\n        error: \"Please enter a valid email address\",\n      });\n      return;\n    }\n\n    setStatus({ loading: true, success: false, error: null });\n\n    try {\n      const now = new Date();\n      const currentDate = now.toLocaleDateString();\n\n      const params = new URLSearchParams({\n        name: name,\n        email: email,\n        date: currentDate,\n      });\n\n      const img = new Image();\n      await new Promise((resolve) => {\n        img.onload = img.onerror = resolve;\n        img.src = `${SHEETS_URL}?${params.toString()}`;\n      });\n\n      setStatus({\n        loading: false,\n        success: true,\n        error: null,\n      });\n\n      // Clear form after successful submission\n      setName(\"\");\n      setEmail(\"\");\n    } catch (error) {\n      console.error(\"Error saving email:\", error);\n      setStatus({\n        loading: false,\n        success: false,\n        error: \"Failed to subscribe. Please try again.\",\n      });\n    }\n  };\n\n  const styles = {\n    container: {\n      maxWidth: \"600px\",\n      margin: \"40px auto\",\n      padding: \"20px\",\n      backgroundColor: \"white\",\n      borderRadius: \"8px\",\n      boxShadow: \"0 2px 4px rgba(0,0,0,0.1)\",\n    },\n    header: {\n      fontSize: \"24px\",\n      fontWeight: \"bold\",\n      marginBottom: \"20px\",\n      textAlign: \"center\" as const,\n    },\n    description: {\n      fontSize: \"16px\",\n      textAlign: \"center\" as const,\n      margin: \"20px 0\",\n      color: \"#666\",\n    },\n    form: {\n      marginBottom: \"20px\",\n    },\n    input: {\n      width: \"100%\",\n      padding: \"10px\",\n      marginBottom: \"10px\",\n      border: \"1px solid #ddd\",\n      borderRadius: \"4px\",\n      fontSize: \"16px\",\n    },\n    button: {\n      width: \"100%\",\n      padding: \"12px\",\n      backgroundColor: \"#4CAF50\",\n      color: \"white\",\n      border: \"none\",\n      borderRadius: \"4px\",\n      fontSize: \"16px\",\n      cursor: \"pointer\",\n    },\n    disabledButton: {\n      backgroundColor: \"#cccccc\",\n      cursor: \"not-allowed\",\n    },\n    message: {\n      padding: \"10px\",\n      marginBottom: \"10px\",\n      borderRadius: \"4px\",\n      textAlign: \"center\" as const,\n    },\n    success: {\n      backgroundColor: \"#d4edda\",\n      color: \"#155724\",\n    },\n    error: {\n      backgroundColor: \"#f8d7da\",\n      color: \"#721c24\",\n    },\n  };\n\n  return (\n    <div style={styles.container}>\n      <h1 style={styles.header}>Send me emails about this</h1>\n\n      <div style={styles.description}>\n        Subscribe to my email list to receive updates about this.\n      </div>\n\n      {!status.success ? (\n        <form onSubmit={handleSubmit} style={styles.form}>\n          <input\n            type=\"text\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n            style={styles.input}\n            placeholder=\"Enter your name\"\n            required\n          />\n          <input\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            style={styles.input}\n            placeholder=\"Enter your email\"\n            required\n          />\n\n          {status.error && (\n            <div style={{ ...styles.message, ...styles.error }}>\n              {status.error}\n            </div>\n          )}\n\n          <button\n            type=\"submit\"\n            disabled={status.loading || !name || !email}\n            style={{\n              ...styles.button,\n              ...(status.loading || !name || !email\n                ? styles.disabledButton\n                : {}),\n            }}\n          >\n            {status.loading ? \"Subscribing...\" : \"Subscribe\"}\n          </button>\n        </form>\n      ) : (\n        <div style={{ ...styles.message, ...styles.success }}>\n          Thanks! I'll be in contact soon.\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Email;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}